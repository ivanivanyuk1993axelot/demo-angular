<mat-form-field
  class="w-100"
>
  <input
    [formControl]="searchString"
    [matAutocomplete]="matAutocomplete"
    aria-label="Route search"
    i18n-placeholder="navigation route search placeholder|Route search placeholder@@routeSearchPlaceholder"
    matInput
    placeholder="Search in site map"
    type="text"
  >
  <mat-autocomplete
    #matAutocomplete="matAutocomplete"
    [autoActiveFirstOption]="true"
  >
    <ng-container
      *ngFor="let routeData of routeDataListFlat"
    >
      <mat-option
        (onSelectionChange)="selectOption($event, routeData)"
        *ngIf="routeData.matchesSearchRegExp$ | async"
        [value]="routeData.textTranslated"
      >
        <mat-icon
          *ngIf="routeData.iconKey"
          aria-label="Navigation route icon"
        >
          {{ routeData.iconKey }}
        </mat-icon>

        {{ routeData.textTranslated }}
      </mat-option>
    </ng-container>
  </mat-autocomplete>
</mat-form-field>

<app-route-list-recursive
  [routeDataList]="routeDataList"
  [searchRegExp$]="searchRegExp$"
></app-route-list-recursive>
